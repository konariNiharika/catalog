#include <iostream>
#include <map>
#include <vector>
#include <sstream>
#include <cmath>
#include <nlohmann/json.hpp>  // For parsing JSON

using json = nlohmann::json;
using namespace std;

// Convert a number from a given base to decimal
int convertToDecimal(string value, int base) {
    int result = 0;
    int power = 1;
    
    for (int i = value.size() - 1; i >= 0; --i) {
        int digit = (value[i] >= '0' && value[i] <= '9') ? (value[i] - '0') : (value[i] - 'A' + 10);
        result += digit * power;
        power *= base;
    }
    
    return result;
}

// Lagrange interpolation to find f(0) (constant term c)
double lagrangeInterpolation(vector<pair<int, int>> points) {
    double result = 0.0;
    
    for (int i = 0; i < points.size(); i++) {
        double term = points[i].second;
        for (int j = 0; j < points.size(); j++) {
            if (i != j) {
                term *= (0 - points[j].first) / (double)(points[i].first - points[j].first);
            }
        }
        result += term;
    }
    
    return result;
}

int main() {
    string input;
    getline(cin, input);  // Read JSON input as string
    
    json jsonData = json::parse(input);
    
    int n = jsonData["keys"]["n"];
    int k = jsonData["keys"]["k"];
    
    vector<pair<int, int>> points;

    // Extract the first k points from the JSON
    for (auto& item : jsonData.items()) {
        if (item.key() == "keys") continue;
        
        int x = stoi(item.key());  // x-coordinate (root)
        int base = item.value()["base"];
        string valueStr = item.value()["value"];
        
        int y = convertToDecimal(valueStr, base);  // Convert value to decimal
        
        points.push_back({x, y});
        
        if (points.size() == k) break;
    }
    
    // Find the constant term using Lagrange interpolation
    double c = lagrangeInterpolation(points);
    
    cout << "Constant term (c) of the polynomial: " << round(c) << endl;
    
    return 0;
}
